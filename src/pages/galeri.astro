---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import PageHeader from '../components/PageHeader.astro';
import GalleryGrid from '../components/GalleryGrid.astro';
import Footer from '../components/Footer.astro';
import FloatingWhatsApp from '../components/FloatingWhatsApp.astro';
import { cloudinaryUrl, GALLERY_IMAGES, HEADER_BG } from '../lib/cloudinary';

const whatsappUrl = "https://wa.me/628112230558?text=Halo,%20saya%20ingin%20mengirimkan%20desain%20saya";
const headerBg = cloudinaryUrl(HEADER_BG.galeri, { width: 1920, height: 600, crop: 'fill' });

const galleryImages = GALLERY_IMAGES.map(img => ({
    src: cloudinaryUrl(img.path, { width: 800, quality: 'auto' }),
    alt: img.caption,
    caption: img.caption,
    category: img.category
}));

const categories = ["Semua", "Tim Olahraga", "Perusahaan/Korporat", "Komunitas", "Event"];
---

<Layout title="Galeri - Alus Factory" description="Portofolio hasil produksi Alus Factory. Bukti nyata kualitas kami untuk berbagai klien dari berbagai sektor.">
    <Navbar />
    
    <PageHeader 
        title="Portofolio Hasil Produksi" 
        subtitle="Bukti nyata kualitas Alus Factory"
        backgroundImage={headerBg}
    />
    
    <section class="pt-12 pb-8 bg-accent">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-lg text-gray-600">
                Berikut adalah beberapa proyek yang telah kami selesaikan untuk klien dari berbagai sektor.
                <strong class="text-secondary">Klik gambar</strong> untuk melihat detail.
            </p>
        </div>
    </section>
    
    <section class="py-12 bg-accent">
        <GalleryGrid images={galleryImages} categories={categories} />
    </section>
    
    <section class="py-20 bg-primary">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <h2 class="text-2xl md:text-3xl font-heading font-bold text-white mb-4">
                Suka dengan Hasil Kerja Kami?
            </h2>
            <p class="text-white/90 text-lg mb-8 max-w-2xl mx-auto">
                Mari diskusikan desain Anda dan jadikan ide Anda menjadi nyata bersama Alus Factory.
            </p>
            <a 
                href={whatsappUrl}
                target="_blank"
                class="cta-pulse relative inline-flex items-center gap-3 bg-white text-primary px-10 py-4 rounded-full font-heading font-bold text-lg hover:bg-gray-100 transition shadow-2xl overflow-hidden"
            >
                <i data-lucide="upload" class="w-6 h-6"></i>
                <span>Kirim Desain Saya</span>
            </a>
        </div>
    </section>
    
    <Footer />
    <FloatingWhatsApp />
</Layout>
