---
interface Props {
    title: string;
    description: string;
    image: string;
    category: string;
    specs: string[];
    badge?: string;
}

const { title, description, image, category, specs, badge } = Astro.props;
const whatsappUrl = `https://wa.me/628112230558?text=Halo,%20saya%20tertarik%20dengan%20produk%20${encodeURIComponent(title)}`;
---

<div 
    class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 group"
    data-product-category={category}
>
    <!-- Image Container -->
    <div class="relative h-64 overflow-hidden">
        <img 
            src={image} 
            alt={title}
            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
        >
        {badge && (
            <span class="absolute top-4 left-4 bg-primary text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg">
                {badge}
            </span>
        )}
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
    </div>
    
    <!-- Content -->
    <div class="p-6">
        <span class="text-xs font-semibold text-primary uppercase tracking-wider">{category}</span>
        <h3 class="font-heading font-bold text-xl text-secondary mt-2 mb-3">{title}</h3>
        <p class="text-gray-600 text-sm mb-4 line-clamp-2">{description}</p>
        
        <!-- Specs -->
        <ul class="space-y-2 mb-6">
            {specs.slice(0, 3).map((spec) => (
                <li class="flex items-start gap-2 text-sm text-gray-500">
                    <i data-lucide="check" class="w-4 h-4 text-primary flex-shrink-0 mt-0.5"></i>
                    <span>{spec}</span>
                </li>
            ))}
        </ul>
        
        <!-- CTA -->
        <a 
            href={whatsappUrl}
            target="_blank"
            class="flex items-center justify-center gap-2 w-full bg-secondary text-white py-3 rounded-xl font-semibold text-sm hover:bg-primary transition-colors duration-300"
        >
            <i data-lucide="message-circle" class="w-4 h-4"></i>
            Tanya Produk Ini
        </a>
    </div>
</div>

<style>
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>
